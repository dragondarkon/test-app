{"ast":null,"code":"import { compose } from 'recompose';\nimport { connect } from 'react-redux';\nimport Page from '../containers/page';\nimport fetch from 'isomorphic-unfetch';\nconst IndexPage = compose()(Page);\n\nIndexPage.getInitialProps = async ({\n  store,\n  req\n}) => {\n  const isServer = !!req; // we can add any custom data here\n  // for examle, the data from api server\n\n  const res = await fetch('http://localhost:8000/data');\n  const datas = await res.json();\n  console.log(`Show data fetched. Count: ${datas.length}`);\n  let result = datas.map(data => {\n    return data.text;\n  });\n  console.log(result);\n  return {\n    isServer,\n    result\n  };\n};\n\nexport default connect()(IndexPage);","map":{"version":3,"sources":["/home/jirayu/project/js/test-app/pages/index.tsx"],"names":["compose","connect","Page","fetch","IndexPage","getInitialProps","store","req","isServer","res","datas","json","console","log","length","result","map","data","text"],"mappings":"AAIA,SAASA,OAAT,QAAwB,WAAxB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AAEA,OAAOC,KAAP,MAAkB,oBAAlB;AAMA,MAAMC,SAA8C,GAAGJ,OAAO,GAAGE,IAAH,CAA9D;;AAEAE,SAAS,CAACC,eAAV,GAA4B,OAAO;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAP,KAA0B;AACpD,QAAMC,QAAiB,GAAG,CAAC,CAACD,GAA5B,CADoD,CAGpD;AACA;;AACA,QAAME,GAAG,GAAG,MAAMN,KAAK,CAAC,4BAAD,CAAvB;AACA,QAAMO,KAAK,GAAG,MAAMD,GAAG,CAACE,IAAJ,EAApB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAa,6BAA4BH,KAAK,CAACI,MAAO,EAAtD;AACA,MAAIC,MAAM,GAAGL,KAAK,CAACM,GAAN,CAAWC,IAAD,IAAU;AAC/B,WAAOA,IAAI,CAACC,IAAZ;AACD,GAFY,CAAb;AAGAN,EAAAA,OAAO,CAACC,GAAR,CAAYE,MAAZ;AACA,SAAO;AACLP,IAAAA,QADK;AAELO,IAAAA;AAFK,GAAP;AAID,CAhBD;;AAkBA,eAAed,OAAO,GAAGG,SAAH,CAAtB","sourcesContent":["import {\n  NextPageContext,\n  NextComponentType,\n} from 'next';\nimport { compose } from 'recompose';\nimport { connect } from 'react-redux';\nimport Page from '../containers/page';\nimport { Store } from '../store';\nimport fetch from 'isomorphic-unfetch';\n\ninterface IndexPageContext extends NextPageContext {\n  store: Store;\n}\n\nconst IndexPage: NextComponentType<IndexPageContext> = compose()(Page);\n\nIndexPage.getInitialProps = async ({ store, req }) => {\n  const isServer: boolean = !!req;\n\n  // we can add any custom data here\n  // for examle, the data from api server\n  const res = await fetch('http://localhost:8000/data');\n  const datas = await res.json();\n  console.log(`Show data fetched. Count: ${datas.length}`);\n  let result = datas.map((data) => {\n    return data.text\n  })\n  console.log(result);\n  return {\n    isServer,\n    result,\n  };\n}\n\nexport default connect()(IndexPage);\n"]},"metadata":{},"sourceType":"module"}